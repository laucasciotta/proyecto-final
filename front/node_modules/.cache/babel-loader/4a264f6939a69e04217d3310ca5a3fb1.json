{"ast":null,"code":"var _jsxFileName = \"/Users/lautaro/Desktop/rolling/proyecto-final/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { Container, Spinner } from 'react-bootstrap';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport NavRB from './components/NavRB';\nimport Bebidas from './pages/Bebidas';\nimport Footer from './components/Footer';\nimport Login from './pages/Login';\nimport Admin from './pages/Admin';\nimport { useEffect, useState } from 'react';\nimport { leerDeLocalStorage } from './utils/localStorage';\nimport DetalleProducto from './pages/DetalleProducto';\nimport Register from './pages/Register';\nimport axios from 'axios';\nimport Cart from './components/Cart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [bebidas, setBebidas] = useState([{\n    nombre: '',\n    precio: '',\n    imagen: ''\n  }]);\n  const [user, setUser] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n  const [carrito, setCarrito] = useState([]);\n\n  const requestUserData = async () => {\n    setIsLoading(true);\n    const tokenLocal = leerDeLocalStorage('token') || {};\n\n    if (tokenLocal.token) {\n      const headers = {\n        'x-auth-token': tokenLocal.token\n      };\n      const response = await axios.get('http://localhost:4000/api/auth', {\n        headers\n      });\n      setUser(response.data);\n    }\n\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    requestUserData();\n  }, []);\n\n  const getBebidas = async () => {\n    const response = await axios.get('http://localhost:4000/api/bebidas');\n    setBebidas(response.data);\n  };\n\n  useEffect(() => {\n    getBebidas();\n  }, []);\n  const isAdmin = user.role === 'admin';\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\"Cargando...\", /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"footer-fix\",\n    children: [/*#__PURE__*/_jsxDEV(NavRB, {\n      user: user,\n      carrito: carrito\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          exact: true,\n          children: /*#__PURE__*/_jsxDEV(Bebidas, {\n            bebidas: bebidas,\n            carrito: carrito,\n            setCarrito: setCarrito\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          children: /*#__PURE__*/_jsxDEV(Login, {\n            requestUserData: requestUserData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          children: /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/admin\",\n          children: /*#__PURE__*/_jsxDEV(Admin, {\n            actualizarBebidas: getBebidas,\n            bebidas: bebidas,\n            getBebidas: getBebidas,\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/producto/:productoId\",\n          children: /*#__PURE__*/_jsxDEV(DetalleProducto, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          children: /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/404\",\n          children: \"404\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/cart\",\n          children: /*#__PURE__*/_jsxDEV(Cart, {\n            carrito: carrito,\n            setCarrito: setCarrito\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          children: /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/404\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"TxSJqHlhD0AcTeNghB8DML3uZlY=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/lautaro/Desktop/rolling/proyecto-final/src/App.js"],"names":["Container","Spinner","Route","Switch","Redirect","NavRB","Bebidas","Footer","Login","Admin","useEffect","useState","leerDeLocalStorage","DetalleProducto","Register","axios","Cart","App","bebidas","setBebidas","nombre","precio","imagen","user","setUser","isLoading","setIsLoading","carrito","setCarrito","requestUserData","tokenLocal","token","headers","response","get","data","getBebidas","isAdmin","role"],"mappings":"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","sourcesContent":["import { Container, Spinner } from 'react-bootstrap';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport './App.css';\nimport  NavRB  from './components/NavRB';\nimport Bebidas from './pages/Bebidas';\nimport Footer from './components/Footer';\nimport Login from './pages/Login';\nimport Admin from './pages/Admin';\nimport { useEffect, useState } from 'react';\nimport { leerDeLocalStorage } from './utils/localStorage';\nimport DetalleProducto from './pages/DetalleProducto';\nimport Register from './pages/Register';\nimport axios from 'axios';\nimport Cart from './components/Cart';\n\nfunction App() {\n  const [bebidas, setBebidas] = useState([{nombre:'',precio:'',imagen:'',}])\n  const [user, setUser] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n  const [carrito, setCarrito] = useState([]);\n  const requestUserData = async () => {\n    setIsLoading(true);\n    const tokenLocal = leerDeLocalStorage('token') || {};\n\n    if (tokenLocal.token) {\n        const headers = { 'x-auth-token': tokenLocal.token };\n        const response = await axios.get('http://localhost:4000/api/auth', { headers });\n        setUser(response.data);\n    }\n    setIsLoading(false);\n};\n\nuseEffect(() => {\n    requestUserData();\n}, []);\n\nconst getBebidas = async () => {\n    const response = await axios.get('http://localhost:4000/api/bebidas');\n    setBebidas(response.data);\n};\n\nuseEffect(() => {\n    getBebidas();\n}, []);\n\nconst isAdmin = user.role === 'admin';\n\nif (isLoading) {\n    return (\n        <>\n            Cargando...\n            <Spinner animation=\"border\" role=\"status\">\n                <span className=\"visually-hidden\">Loading...</span>\n            </Spinner>\n        </>\n    );\n}\n\n    return (\n        <div className=\"footer-fix\">\n            <NavRB user={user} \n                  carrito={carrito}\n                  />\n\n            <Container>\n                <Switch>\n                    <Route path=\"/\" exact>\n                        <Bebidas bebidas={bebidas} carrito={carrito} setCarrito={setCarrito}  />\n              \n                    </Route>\n\n                    <Route path=\"/login\">\n                        <Login requestUserData={requestUserData} />\n                    </Route>\n\n                    <Route path=\"/register\">\n                        <Register />\n                    </Route>\n\n                    {isAdmin && (\n                        <Route path=\"/admin\">\n                            <Admin actualizarBebidas={getBebidas} bebidas={bebidas} getBebidas={getBebidas} user={user}/>\n                        </Route>\n                    )}\n\n                   \n                 \n\n                    <Route path=\"/producto/:productoId\">\n                        <DetalleProducto />\n                    </Route>\n\n                    <Route path=\"/register\">\n                        <Register />\n                    </Route>\n\n                    <Route path=\"/404\">404</Route>\n                    \n                    <Route path=\"/cart\">\n                    <Cart carrito={carrito} setCarrito={setCarrito} />\n                    </Route>\n\n                    <Route path=\"*\">\n                        <Redirect to=\"/404\" />\n                    </Route>\n                    \n            \n                    \n                </Switch>\n            </Container>\n            <Footer />\n        </div>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}