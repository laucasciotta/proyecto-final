{"ast":null,"code":"var _jsxFileName = \"/Users/lautaro/Desktop/rolling/proyecto-final/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { Container, Spinner } from 'react-bootstrap';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport NavRB from './components/NavRB';\nimport Memes from './pages/Memes';\nimport Footer from './components/Footer';\nimport Login from './pages/Login';\nimport Admin from './pages/Admin';\nimport Perfil from './pages/Perfil';\nimport { useEffect, useState } from 'react';\nimport { leerDeLocalStorage } from './utils/localStorage';\nimport DetalleMeme from './pages/DetalleMeme';\nimport axios from 'axios';\nimport Register from './pages/Register';\nimport Contacto from './pages/Contacto';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [memes, setMemes] = useState([]);\n  const [user, setUser] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n\n  const requestUserData = async () => {\n    setIsLoading(true);\n    const tokenLocal = leerDeLocalStorage('token') || {};\n\n    if (tokenLocal.token) {\n      const headers = {\n        'x-auth-token': tokenLocal.token\n      };\n      const response = await axios.get('http://localhost:4000/api/auth', {\n        headers\n      });\n      setUser(response.data);\n    }\n\n    setIsLoading(false);\n  };\n\n  useEffect(() => {\n    requestUserData();\n  }, []);\n  useEffect(() => {\n    const request = async () => {\n      const response = await axios.get('http://localhost:4000/api/memes');\n      setMemes(response.data);\n    };\n\n    request();\n  }, []);\n  const isAdmin = user.role === 'admin';\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [\"Cargando...\", /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"footer-fix\",\n    children: [/*#__PURE__*/_jsxDEV(NavRB, {\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          exact: true,\n          children: /*#__PURE__*/_jsxDEV(Memes, {\n            memes: memes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          children: /*#__PURE__*/_jsxDEV(Login, {\n            requestUserData: requestUserData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/admin\",\n          children: /*#__PURE__*/_jsxDEV(Admin, {\n            memes: memes,\n            setMemes: setMemes,\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this), isAdmin && /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/perfil\",\n          children: /*#__PURE__*/_jsxDEV(Perfil, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/meme/:memeId\",\n          children: /*#__PURE__*/_jsxDEV(DetalleMeme, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          children: /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/404\",\n          children: \"404\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/contacto\",\n          children: /*#__PURE__*/_jsxDEV(Contacto, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          children: /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/404\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n\n_s(App, \"Cza0X3xgR9cP659dMbdiwDDu7bI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/lautaro/Desktop/rolling/proyecto-final/src/App.js"],"names":["Container","Spinner","Route","Switch","Redirect","NavRB","Memes","Footer","Login","Admin","Perfil","useEffect","useState","leerDeLocalStorage","DetalleMeme","axios","Register","Contacto","App","memes","setMemes","user","setUser","isLoading","setIsLoading","requestUserData","tokenLocal","token","headers","response","get","data","request","isAdmin","role"],"mappings":"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","sourcesContent":["import { Container, Spinner } from 'react-bootstrap';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport './App.css';\nimport  NavRB  from './components/NavRB';\nimport Memes from './pages/Memes';\nimport Footer from './components/Footer';\nimport Login from './pages/Login';\nimport Admin from './pages/Admin';\nimport Perfil from './pages/Perfil';\nimport { useEffect, useState } from 'react';\nimport { leerDeLocalStorage } from './utils/localStorage';\nimport DetalleMeme from './pages/DetalleMeme';\nimport axios from 'axios';\nimport Register from './pages/Register';\nimport Contacto from './pages/Contacto';\n\nfunction App() {\n    const [memes, setMemes] = useState([]);\n    const [user, setUser] = useState({});\n    const [isLoading, setIsLoading] = useState(true);\n\n    const requestUserData = async () => {\n        setIsLoading(true);\n        const tokenLocal = leerDeLocalStorage('token') || {};\n\n        if (tokenLocal.token) {\n            const headers = { 'x-auth-token': tokenLocal.token };\n            const response = await axios.get('http://localhost:4000/api/auth', { headers });\n            setUser(response.data);\n        }\n        setIsLoading(false);\n    };\n\n    useEffect(() => {\n        requestUserData();\n    }, []);\n\n    useEffect(() => {\n        const request = async () => {\n            const response = await axios.get('http://localhost:4000/api/memes');\n            setMemes(response.data);\n        };\n        request();\n    }, []);\n\n    const isAdmin = user.role === 'admin';\n\n    if (isLoading) {\n        return (\n            <>\n                Cargando...\n                <Spinner animation=\"border\" role=\"status\">\n                    <span className=\"visually-hidden\">Loading...</span>\n                </Spinner>\n            </>\n        );\n    }\n\n    return (\n        <div className=\"footer-fix\">\n            <NavRB user={user} />\n\n            <Container>\n                <Switch>\n                    <Route path=\"/\" exact>\n                        <Memes memes={memes} />\n                    </Route>\n\n                    <Route path=\"/login\">\n                        <Login requestUserData={requestUserData} />\n                    </Route>\n\n                    {isAdmin && (\n                        <Route path=\"/admin\">\n                            <Admin memes={memes} setMemes={setMemes} user={user} />\n                        </Route>\n                    )}\n\n                    {isAdmin && (\n                        <Route path=\"/perfil\">\n                            <Perfil />\n                        </Route>\n                    )}\n\n                    <Route path=\"/meme/:memeId\">\n                        <DetalleMeme />\n                    </Route>\n\n                    <Route path=\"/register\">\n                        <Register />\n                    </Route>\n\n                    <Route path=\"/404\">404</Route>\n                    <Route path=\"/contacto\">\n                        <Contacto />\n                    </Route>\n\n                    <Route path=\"*\">\n                        <Redirect to=\"/404\" />\n                    </Route>\n                    \n                </Switch>\n            </Container>\n            <Footer />\n        </div>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}